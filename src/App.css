@import "tailwindcss";

@theme {
  --color-monokai: #75715e;
  --color-monokai-blue: #66d9ef;
  --color-monokai-yellow: #e6db74;
  --color-monokai-green: #a6e22e;
  --color-monokai-purple: #ae81ff;
  --color-monokai-pink: #f92672;
  --color-monokai-red: #f92672;
  --color-monokai-orange: #fd971f;
  --color-monokai-comment: #75715e;
}

/* Monokai Color Theme - Single Dark Mode */
:root {
  /* Monokai base colors */
  --monokai-bg: #272822;
  --monokai-fg: #f8f8f2;
  --monokai-comment: #75715e;
  --monokai-yellow: #e6db74;
  --monokai-green: #a6e22e;
  --monokai-orange: #fd971f;
  --monokai-purple: #ae81ff;
  --monokai-pink: #f92672;
  --monokai-blue: #66d9ef;

  /* Semantic color mapping using Monokai palette */
  --color-bg-primary: var(--monokai-bg);
  --color-bg-secondary: #2f2f2a;
  --color-bg-tertiary: #38382f;
  --color-bg-surface: var(--monokai-bg);

  --color-text-primary: var(--monokai-fg);
  --color-text-secondary: #e8e8e3;
  --color-text-muted: var(--monokai-comment);
  --color-text-inverse: var(--monokai-bg);

  --color-border-default: var(--monokai-comment);
  --color-border-secondary: #5e5a47;
  --color-border-focus: var(--monokai-blue);

  --color-accent: var(--monokai-blue);
  --color-accent-hover: #7de9ff;
  --color-accent-light: #0a3749;

  --color-success: var(--monokai-green);
  --color-success-light: #182c02;
  --color-warning: var(--monokai-yellow);
  --color-warning-light: #422006;
  --color-danger: var(--monokai-pink);
  --color-danger-light: #500724;

  /* Additional colors for kanban columns */
  --monokai-red: #f92672;
  --color-column-red: var(--monokai-red);
  --color-column-blue: var(--monokai-blue);
  --color-column-green: var(--monokai-green);
  --color-column-yellow: var(--monokai-yellow);
  --color-column-purple: var(--monokai-purple);
  --color-column-orange: var(--monokai-orange);

  /* Typography optimized for Monokai theme */
  font-family:
    "Inter",
    "Monaco",
    "Menlo",
    "Ubuntu Mono",
    monospace,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    "Roboto",
    "Oxygen",
    "Ubuntu",
    "Cantarell",
    "Open Sans",
    "Helvetica Neue",
    sans-serif;
  font-size: 16px;
  line-height: 1.6;
  font-weight: 400;

  /* Text rendering optimization for dark theme */
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-text-size-adjust: 100%;

  /* Force dark theme colors */
  color: var(--color-text-primary);
  background-color: var(--color-bg-primary);
}

/* Global base styles - force Monokai dark theme */
body {
  background-color: var(--color-bg-primary);
  color: var(--color-text-primary);
  /* Remove transitions since we're always in dark mode */
}

/* Ensure HTML element always has dark class */
html {
  background-color: var(--color-bg-primary);
}

/* Semantic utility classes */
.bg-surface {
  background-color: var(--color-bg-surface);
}

.bg-surface-secondary {
  background-color: var(--color-bg-secondary);
}

.bg-surface-tertiary {
  background-color: var(--color-bg-tertiary);
}

.text-primary {
  color: var(--color-text-primary);
}

.text-secondary {
  color: var(--color-text-secondary);
}

.text-muted {
  color: var(--color-text-muted);
}

.border-default {
  border-color: var(--color-border-default);
}

.border-secondary {
  border-color: var(--color-border-secondary);
}

.border-monokai {
  border-color: var(--monokai-comment);
}

.border-monokai-yellow {
  border-color: var(--monokai-yellow);
}

.border-monokai-blue {
  border-color: var(--monokai-blue);
}

.border-monokai-green {
  border-color: var(--monokai-green);
}

.border-monokai-purple {
  border-color: var(--monokai-purple);
}

.border-monokai-pink {
  border-color: var(--monokai-pink);
}

.border-monokai-orange {
  border-color: var(--monokai-orange);
}

/* Enhanced interactive elements */
.btn-primary {
  background-color: var(--color-accent);
  color: var(--color-text-inverse);
  border: 1px solid var(--color-accent);
  transition: all 0.2s ease;
}

.btn-primary:hover {
  background-color: var(--color-accent-hover);
  border-color: var(--color-accent-hover);
}

.btn-primary:focus {
  outline: none;
  box-shadow: 0 0 0 3px var(--color-accent-light);
}

.btn-secondary {
  background-color: transparent;
  color: var(--color-text-secondary);
  border: 1px solid var(--color-border-default);
  transition: all 0.2s ease;
}

.btn-secondary:hover {
  background-color: var(--color-bg-secondary);
  color: var(--color-text-primary);
}

.input-field {
  background-color: var(--color-bg-surface);
  color: var(--color-text-primary);
  border: 1px solid var(--color-border-default);
  transition: all 0.2s ease;
}

.input-field:focus {
  outline: none;
  border-color: var(--color-border-focus);
  box-shadow: 0 0 0 3px var(--color-accent-light);
}

/* Legacy support for existing styles */
.container {
  margin: 0;
  padding-top: 10vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  text-align: center;
}

.logo {
  height: 6em;
  padding: 1.5em;
  will-change: filter;
  transition: 0.75s;
}

.logo.vite:hover {
  filter: drop-shadow(0 0 2em var(--monokai-purple));
}

.logo.react:hover {
  filter: drop-shadow(0 0 2em var(--monokai-blue));
}

.logo.tauri:hover {
  filter: drop-shadow(0 0 2em var(--monokai-green));
}

.row {
  display: flex;
  justify-content: center;
}

a {
  font-weight: 500;
  color: var(--color-accent);
  text-decoration: inherit;
  transition: color 0.2s ease;
}

a:hover {
  color: var(--color-accent-hover);
}

h1 {
  text-align: center;
  color: var(--color-text-primary);
}

/* Default form element styling */
input,
button {
  border-radius: 8px;
  border: 1px solid var(--color-border-default);
  padding: 0.6em 1.2em;
  font-size: 1em;
  font-weight: 500;
  font-family: inherit;
  color: var(--color-text-primary);
  background-color: var(--color-bg-surface);
  transition: all 0.25s ease;
}

button {
  cursor: pointer;
}

button:hover {
  border-color: var(--color-border-focus);
  background-color: var(--color-bg-secondary);
}

button:active {
  border-color: var(--color-border-focus);
  background-color: var(--color-bg-tertiary);
}

input:focus,
button:focus {
  outline: none;
  border-color: var(--color-border-focus);
  box-shadow: 0 0 0 3px var(--color-accent-light);
}

#greet-input {
  margin-right: 5px;
}

/* Kanban Column Management Styles */
.column-drag-handle {
  @apply cursor-grab active:cursor-grabbing transition-colors;
}

.column-drag-handle:hover {
  @apply bg-[#2f2f2a]/30;
}

.column-management-menu {
  @apply relative;
}

.column-menu-dropdown {
  @apply absolute right-0 top-8 w-48 bg-[#272822] border border-[#75715e]/30 rounded-lg shadow-lg z-50 py-1;
}

.column-menu-item {
  @apply w-full text-left px-3 py-2 text-sm hover:bg-[#2f2f2a]/50 flex items-center space-x-2 transition-colors;
}

.add-column-button {
  @apply border-2 border-dashed border-[#66d9ef]/40 text-monokai-blue hover:border-[#66d9ef]/60 hover:bg-monokai-blue/5 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-[#66d9ef]/50;
}

.add-column-button:disabled {
  @apply border-[#75715e]/20 text-monokai-comment cursor-not-allowed;
}

.column-color-picker {
  @apply grid grid-cols-4 gap-3;
}

.color-picker-button {
  @apply w-full h-10 rounded-lg border-2 transition-all focus:outline-none focus:ring-2 focus:ring-[#66d9ef]/50 border-[#75715e]/30 hover:border-[#75715e]/50;
}

.color-picker-button.selected {
  @apply border-[#66d9ef]/70 ring-2 ring-[#66d9ef]/30;
}

/* Column drag preview styles */
.column-drag-overlay {
  @apply opacity-50 z-50 rotate-1;
}

/* Smooth transitions for column operations */
.kanban-column {
  @apply transition-all duration-200;
}

.kanban-column.dragging {
  @apply opacity-50 z-50;
}

.kanban-column:hover {
  @apply shadow-lg border-[#75715e]/50;
}

/* Animation for new column creation */
@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.new-column-animation {
  animation: slideInRight 0.3s ease-out;
}

/* Error message styling */
.error-toast {
  @apply fixed bottom-4 right-4 bg-monokai-red/10 border border-[#f92672]/30 rounded-lg p-3 max-w-md;
}

/* Column template buttons */
.template-button {
  @apply p-2 text-left rounded-lg border transition-colors border-[#75715e]/30 hover:border-[#75715e]/50 hover:bg-[#2f2f2a]/30;
}

.template-button:disabled {
  @apply border-monokai/20 bg-[#2f2f2a]/30 text-monokai-comment cursor-not-allowed;
}

/* Enhanced Horizontal Scroll Styling */
.kanban-scroll-container {
  position: relative;
  scrollbar-width: thin;
  scrollbar-color: var(--monokai-comment) var(--color-bg-secondary);
  padding-bottom: 1rem;
}

/* Webkit scrollbar styling */
.kanban-scroll-container::-webkit-scrollbar {
  height: 12px;
}

.kanban-scroll-container::-webkit-scrollbar-track {
  background: var(--color-bg-secondary);
  border-radius: 6px;
  margin: 0 1rem;
}

.kanban-scroll-container::-webkit-scrollbar-thumb {
  background: var(--monokai-comment);
  border-radius: 6px;
  border: 2px solid var(--color-bg-secondary);
  transition: background 0.2s ease;
}

.kanban-scroll-container::-webkit-scrollbar-thumb:hover {
  background: var(--monokai-blue);
}

.kanban-scroll-container::-webkit-scrollbar-thumb:active {
  background: var(--monokai-purple);
}

/* Scroll shadows for visual feedback */
.kanban-scroll-container::before,
.kanban-scroll-container::after {
  content: "";
  position: absolute;
  top: 0;
  bottom: 1rem;
  width: 2rem;
  pointer-events: none;
  z-index: 10;
  transition: opacity 0.3s ease;
}

.kanban-scroll-container::before {
  left: 0;
  background: linear-gradient(
    to right,
    var(--color-bg-primary) 0%,
    rgba(39, 40, 34, 0.8) 50%,
    transparent 100%
  );
  opacity: 0;
}

.kanban-scroll-container::after {
  right: 0;
  background: linear-gradient(
    to left,
    var(--color-bg-primary) 0%,
    rgba(39, 40, 34, 0.8) 50%,
    transparent 100%
  );
  opacity: 0;
}

/* Show shadows when scrollable */
.kanban-scroll-container.has-scroll::before {
  opacity: 1;
}

.kanban-scroll-container.has-scroll::after {
  opacity: 1;
}

/* Hide left shadow when scrolled to start */
.kanban-scroll-container.scroll-start::before {
  opacity: 0;
}

/* Hide right shadow when scrolled to end */
.kanban-scroll-container.scroll-end::after {
  opacity: 0;
}

/* Enhanced scrollbar spacing */
.kanban-scroll-container {
  margin-bottom: 0.5rem;
  padding-bottom: 1.5rem;
}

/* Smooth scrolling behavior */
.kanban-scroll-container {
  scroll-behavior: smooth;
}

/* Drag performance optimizations */
.dragging-active * {
  pointer-events: none;
}

.dragging-active [data-draggable="true"] {
  pointer-events: auto;
}

.drag-element {
  will-change: transform;
  backface-visibility: hidden;
  transform-style: preserve-3d;
}

.drag-container {
  contain: layout style paint;
  isolation: isolate;
}

/* Drag overlay improvements */
.drag-overlay {
  opacity: 0.9;
  transform: rotate(2deg) scale(1.02);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
  border: 2px solid var(--monokai-blue);
  z-index: 1000;
}

/* Drag preview note styling */
.drag-preview-note {
  background: linear-gradient(
    135deg,
    var(--color-bg-secondary) 0%,
    var(--color-bg-tertiary) 100%
  );
  border: 2px solid var(--monokai-purple);
  border-radius: 0.5rem;
  padding: 1rem;
  box-shadow: 0 10px 30px rgba(174, 129, 255, 0.3);
}

/* Drag preview column styling */
.drag-preview-column {
  background: var(--color-bg-secondary);
  border: 2px solid var(--monokai-green);
  border-radius: 0.75rem;
  padding: 1rem;
  box-shadow: 0 10px 30px rgba(166, 226, 46, 0.2);
  min-width: 20rem;
}
